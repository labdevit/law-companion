@tailwind base;
@tailwind components;
@tailwind utilities;

/* Pandora Design System - Light & Dark themes */

@layer base {
  :root {
    /* Light theme (default) */
    --background: 220 20% 97%;
    --foreground: 222 47% 11%;

    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;

    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;

    --primary: 243 75% 59%;
    --primary-foreground: 0 0% 100%;

    --secondary: 142 71% 45%;
    --secondary-foreground: 0 0% 100%;

    --muted: 220 14% 92%;
    --muted-foreground: 220 9% 46%;

    --accent: 199 89% 48%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;

    --border: 220 13% 87%;
    --input: 220 14% 92%;
    --ring: 243 75% 59%;

    --radius: 1rem;

    /* Custom semantic tokens */
    --highlight-purple: 243 75% 59%;
    --highlight-green: 142 71% 45%;
    --highlight-orange: 32 95% 44%;
    --highlight-cyan: 199 89% 48%;

    /* Glass effects - Light mode */
    --glass-bg: 0 0% 100% / 0.85;
    --glass-border: 220 13% 80% / 0.5;
    --glass-highlight: 220 30% 100% / 0.5;

    /* Shadows - Light mode */
    --shadow-glow: 0 0 60px -10px hsl(243 75% 59% / 0.15);
    --shadow-card: 0 10px 40px -15px hsl(222 47% 11% / 0.08);

    /* Gradients - Light mode */
    --gradient-hero: radial-gradient(1200px 700px at 20% -10%, hsl(263 70% 50% / 0.08), transparent 55%),
                     radial-gradient(900px 500px at 95% 10%, hsl(142 71% 45% / 0.06), transparent 55%),
                     radial-gradient(800px 500px at 60% 120%, hsl(199 89% 48% / 0.05), transparent 55%);
    --gradient-sidebar: linear-gradient(180deg, hsl(0 0% 100% / 0.95), hsl(220 20% 98% / 0.9));
    --gradient-brand: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--secondary)));
    --gradient-button-primary: linear-gradient(135deg, hsl(142 71% 45% / 0.15), hsl(243 75% 59% / 0.08));
  }

  .dark {
    /* Dark theme */
    --background: 222 47% 5%;
    --foreground: 220 20% 95%;

    --card: 222 40% 8%;
    --card-foreground: 220 20% 95%;

    --popover: 222 40% 8%;
    --popover-foreground: 220 20% 95%;

    --primary: 243 75% 59%;
    --primary-foreground: 0 0% 100%;

    --secondary: 142 71% 45%;
    --secondary-foreground: 0 0% 100%;

    --muted: 222 30% 15%;
    --muted-foreground: 215 20% 55%;

    --accent: 199 89% 48%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;

    --border: 222 30% 18%;
    --input: 222 30% 15%;
    --ring: 243 75% 59%;

    /* Glass effects - Dark mode */
    --glass-bg: 222 40% 6% / 0.85;
    --glass-border: 220 30% 30% / 0.2;
    --glass-highlight: 220 30% 100% / 0.05;

    /* Shadows - Dark mode */
    --shadow-glow: 0 0 60px -10px hsl(243 75% 59% / 0.3);
    --shadow-card: 0 20px 50px -15px hsl(222 47% 2% / 0.5);

    /* Gradients - Dark mode */
    --gradient-hero: radial-gradient(1200px 700px at 20% -10%, hsl(263 70% 50% / 0.35), transparent 55%),
                     radial-gradient(900px 500px at 95% 10%, hsl(142 71% 45% / 0.18), transparent 55%),
                     radial-gradient(800px 500px at 60% 120%, hsl(199 89% 48% / 0.14), transparent 55%);
    --gradient-sidebar: linear-gradient(180deg, hsl(222 50% 10% / 0.92), hsl(222 50% 6% / 0.78));
    --gradient-brand: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--secondary)));
    --gradient-button-primary: linear-gradient(135deg, hsl(142 71% 45% / 0.2), hsl(243 75% 59% / 0.1));
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html, body, #root {
    @apply h-full;
  }

  body {
    @apply bg-background text-foreground overflow-x-hidden;
    background-image: var(--gradient-hero);
    background-attachment: fixed;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
  }
}

@layer components {
  /* Highlight styles for course content - Light mode friendly */
  .hl {
    @apply px-1.5 py-0.5 rounded-md font-bold;
    background: hsl(var(--highlight-purple) / 0.15);
    border: 1px solid hsl(var(--highlight-purple) / 0.35);
    color: hsl(243 75% 40%);
  }

  .dark .hl {
    background: hsl(var(--highlight-purple) / 0.22);
    border: 1px solid hsl(var(--highlight-purple) / 0.45);
    color: hsl(270 100% 85%);
  }

  .hlg {
    @apply px-1.5 py-0.5 rounded-md font-bold;
    background: hsl(var(--highlight-green) / 0.15);
    border: 1px solid hsl(var(--highlight-green) / 0.35);
    color: hsl(142 71% 30%);
  }

  .dark .hlg {
    background: hsl(var(--highlight-green) / 0.22);
    border: 1px solid hsl(var(--highlight-green) / 0.45);
    color: hsl(142 80% 75%);
  }

  .hlo {
    @apply px-1.5 py-0.5 rounded-md font-bold;
    background: hsl(var(--highlight-orange) / 0.15);
    border: 1px solid hsl(var(--highlight-orange) / 0.35);
    color: hsl(32 95% 30%);
  }

  .dark .hlo {
    background: hsl(var(--highlight-orange) / 0.22);
    border: 1px solid hsl(var(--highlight-orange) / 0.45);
    color: hsl(32 100% 70%);
  }

  /* Glass panel effect */
  .glass-panel {
    background: hsl(var(--glass-bg));
    backdrop-filter: blur(12px);
    border: 1px solid hsl(var(--glass-border));
  }

  /* Card with subtle glow */
  .card-glow {
    @apply relative;
    background: linear-gradient(180deg, hsl(220 30% 100% / 0.05), hsl(220 30% 100% / 0.02));
    box-shadow: var(--shadow-card);
  }

  /* Scrollbar styling */
  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: hsl(var(--muted-foreground) / 0.2);
    border-radius: 999px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground) / 0.3);
  }

  /* Course content styles */
  .course-content {
    @apply leading-relaxed text-sm text-foreground;
  }

  .course-content h4 {
    @apply mt-4 mb-2 text-sm font-semibold text-foreground;
  }

  .course-content p {
    @apply my-2.5;
  }

  /* Callout box */
  .callout {
    @apply mt-3 p-3 rounded-2xl border;
    background: hsl(var(--accent) / 0.08);
    border-color: hsl(var(--accent) / 0.2);
  }

  .callout b {
    color: hsl(199 89% 35%);
  }

  .dark .callout b {
    color: hsl(199 100% 90%);
  }
}

@layer utilities {
  .animate-fade-in {
    animation: fadeIn 0.3s ease-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(4px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .transition-lift {
    @apply transition-all duration-150 ease-out;
  }

  .transition-lift:hover {
    transform: translateY(-2px);
  }
}
